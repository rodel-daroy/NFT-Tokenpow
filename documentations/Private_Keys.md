<h1>PRIVATE KEYS</h1>

<ul>
  <li>Private keys are generated on User Creation or selltoken Creation</li>
  <li>Private key is generated by bsvCryptoLibrary by calling method from lib -> bsvCrypto.PrivKey.fromRandom();</li>
  <li>This key is then encrypted by CryptoJS library with AES alghorithm. Where our SECRET is used for encryption. Secret is only available on environments.</li>
  <li>Encrypted key is then stored in database. For decryption need that SECRET from environment.</li>
  <li>Private key is stored under "privateKey" in environment.ts file</li>
  <li>In real emergency take this snippet of code:</li>
</ul>

function getDecryptedPrivateKey(value): string {
const key = CryptoJS.enc.Utf8.parse(environment.privateKey);
const iv = CryptoJS.enc.Utf8.parse(environment.privateKey);
const decrypted = CryptoJS.AES.decrypt(value, key, {
keySize: 128 / 8,
iv,
mode: CryptoJS.mode.CBC,
padding: CryptoJS.pad.Pkcs7
});

return decrypted.toString(CryptoJS.enc.Utf8);
}

<h3>Run this function in any javascript environment. Value param is encrypted KEY which we want decrypt. Also need to replace privateKey in parse method by our private key from environment</h3>

